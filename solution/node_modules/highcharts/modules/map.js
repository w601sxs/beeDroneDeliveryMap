/*
 Highmaps JS v10.3.1 (2022-10-31)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(x){b(x);b.Highcharts=x;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function x(b,k,p,g){b.hasOwnProperty(k)||(b[k]=g.apply(null,p),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:k,module:b[k]}})))}b=b?b._modules:{};x(b,"Core/Axis/Color/ColorAxisComposition.js",
[b["Core/Color/Color.js"],b["Core/Utilities.js"]],function(b,k){var p=b.parse,g=k.addEvent,q=k.extend,d=k.merge,l=k.pick,J=k.splat,n;(function(h){function n(){var f=this,a=this.options;this.colorAxis=[];a.colorAxis&&(a.colorAxis=J(a.colorAxis),a.colorAxis.forEach(function(a,c){a.index=c;new z(f,a)}))}function a(f){var a=this,c=function(v){v=f.allItems.indexOf(v);-1!==v&&(a.destroyItem(f.allItems[v]),f.allItems.splice(v,1))},e=[],v,r;(this.chart.colorAxis||[]).forEach(function(f){(v=f.options)&&v.showInLegend&&
(v.dataClasses&&v.visible?e=e.concat(f.getDataClassLegendSymbols()):v.visible&&e.push(f),f.series.forEach(function(f){if(!f.options.showInLegend||v.dataClasses)"point"===f.options.legendType?f.points.forEach(function(f){c(f)}):c(f)}))});for(r=e.length;r--;)f.allItems.unshift(e[r])}function c(f){f.visible&&f.item.legendColor&&f.item.legendItem.symbol.attr({fill:f.item.legendColor})}function e(){var f=this.chart.colorAxis;f&&f.forEach(function(f,a,c){f.update({},c)})}function u(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function t(){var f=this.axisTypes;f?-1===f.indexOf("colorAxis")&&f.push("colorAxis"):this.axisTypes=["colorAxis"]}function m(f){var a=this,c=f?"show":"hide";a.visible=a.options.visible=!!f;["graphic","dataLabel"].forEach(function(f){if(a[f])a[f][c]()});this.series.buildKDTree()}function B(){var f=this,a=this.options.nullColor,c=this.colorAxis,e=this.colorKey;(this.data.length?this.data:this.points).forEach(function(v){var r=v.getNestedProperty(e);
(r=v.options.color||(v.isNull||null===v.value?a:c&&"undefined"!==typeof r?c.toColor(r,v):v.color||f.color))&&v.color!==r&&(v.color=r,"point"===f.options.legendType&&v.legendItem&&v.legendItem.label&&f.chart.legend.colorizeItem(v,v.visible))})}function r(f){var a=f.prototype.createAxis;f.prototype.createAxis=function(f,c){if("colorAxis"!==f)return a.apply(this,arguments);var v=new z(this,d(c.axis,{index:this[f].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(f){f.series=[]});this.series.forEach(function(f){f.bindAxes();
f.isDirtyData=!0});l(c.redraw,!0)&&this.redraw(c.animation);return v}}function F(){this.elem.attr("fill",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}function f(){this.elem.attr("stroke",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}var A=[],z;h.compose=function(h,d,l,y,v){z||(z=h);-1===A.indexOf(d)&&(A.push(d),h=d.prototype,h.collectionsWithUpdate.push("colorAxis"),h.collectionsWithInit.colorAxis=[h.addColorAxis],g(d,"afterGetAxes",n),r(d));-1===A.indexOf(l)&&(A.push(l),d=l.prototype,
d.fillSetter=F,d.strokeSetter=f);-1===A.indexOf(y)&&(A.push(y),g(y,"afterGetAllItems",a),g(y,"afterColorizeItem",c),g(y,"afterUpdate",e));-1===A.indexOf(v)&&(A.push(v),q(v.prototype,{optionalAxis:"colorAxis",translateColors:B}),q(v.prototype.pointClass.prototype,{setVisible:m}),g(v,"afterTranslate",u),g(v,"bindAxes",t))};h.pointSetVisible=m})(n||(n={}));return n});x(b,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}});x(b,"Core/Axis/Color/ColorAxis.js",[b["Core/Axis/Axis.js"],b["Core/Color/Color.js"],b["Core/Axis/Color/ColorAxisComposition.js"],b["Core/Axis/Color/ColorAxisDefaults.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,
p,g,q,d,l,w){var n=this&&this.__extends||function(){var a=function(c,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])};return a(c,e)};return function(c,e){function r(){this.constructor=c}a(c,e);c.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h=k.parse,y=l.series,a=w.extend,c=w.isNumber,e=w.merge,u=w.pick;k=function(t){function m(a,c){var e=t.call(this,a,c)||this;e.beforePadding=
!1;e.chart=void 0;e.coll="colorAxis";e.dataClasses=void 0;e.name="";e.options=void 0;e.stops=void 0;e.visible=!0;e.init(a,c);return e}n(m,t);m.compose=function(a,c,e,f){p.compose(m,a,c,e,f)};m.prototype.init=function(a,c){var r=a.options.legend||{},f=c.layout?"vertical"!==c.layout:"vertical"!==r.layout,B=c.visible;r=e(m.defaultColorAxisOptions,c,{showEmpty:!1,title:null,visible:r.enabled&&!1!==B});this.coll="colorAxis";this.side=c.side||f?2:1;this.reversed=c.reversed||!f;this.opposite=!f;t.prototype.init.call(this,
a,r);this.userOptions.visible=B;c.dataClasses&&this.initDataClasses(c);this.initStops();this.horiz=f;this.zoomEnabled=!1};m.prototype.initDataClasses=function(a){var c=this.chart,B=this.legendItem=this.legendItem||{},f=a.dataClasses.length,u=this.options,m,t=0,d=c.options.chart.colorCount;this.dataClasses=m=[];B.labels=[];(a.dataClasses||[]).forEach(function(a,r){a=e(a);m.push(a);if(c.styledMode||!a.color)"category"===u.dataClassColor?(c.styledMode||(r=c.options.colors,d=r.length,a.color=r[t]),a.colorIndex=
t,t++,t===d&&(t=0)):a.color=h(u.minColor).tweenTo(h(u.maxColor),2>f?.5:r/(f-1))})};m.prototype.hasData=function(){return!!(this.tickPositions||[]).length};m.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)};m.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(a){a.color=h(a[1])})};m.prototype.setOptions=function(a){t.prototype.setOptions.call(this,a);
this.options.crosshair=this.options.marker};m.prototype.setAxisSize=function(){var a=this.legendItem&&this.legendItem.symbol,c=this.chart,e=c.options.legend||{},f,u;a?(this.left=e=a.attr("x"),this.top=f=a.attr("y"),this.width=u=a.attr("width"),this.height=a=a.attr("height"),this.right=c.chartWidth-e-u,this.bottom=c.chartHeight-f-a,this.len=this.horiz?u:a,this.pos=this.horiz?e:f):this.len=(this.horiz?e.symbolWidth:e.symbolHeight)||m.defaultLegendLength};m.prototype.normalizedValue=function(a){this.logarithmic&&
(a=this.logarithmic.log2lin(a));return 1-(this.max-a)/(this.max-this.min||1)};m.prototype.toColor=function(a,c){var e=this.dataClasses,f=this.stops,r;if(e)for(r=e.length;r--;){var u=e[r];var m=u.from;f=u.to;if(("undefined"===typeof m||a>=m)&&("undefined"===typeof f||a<=f)){var t=u.color;c&&(c.dataClass=r,c.colorIndex=u.colorIndex);break}}else{a=this.normalizedValue(a);for(r=f.length;r--&&!(a>f[r][0]););m=f[r]||f[r+1];f=f[r+1]||m;a=1-(f[0]-a)/(f[0]-m[0]||1);t=m.color.tweenTo(f.color,a)}return t};m.prototype.getOffset=
function(){var a=this.legendItem&&this.legendItem.group,c=this.chart.axisOffset[this.side];if(a){this.axisParent=a;t.prototype.getOffset.call(this);var e=this.chart.legend;e.allItems.forEach(function(a){a instanceof m&&a.drawLegendSymbol(e,a)});e.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=c}};m.prototype.setLegendColor=function(){var a=this.reversed,c=a?1:0;a=a?0:1;c=this.horiz?[c,0,a,0]:[0,a,0,c];this.legendColor=
{linearGradient:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]},stops:this.stops}};m.prototype.drawLegendSymbol=function(a,c){c=c.legendItem||{};var e=a.padding,f=a.options,r=u(f.itemDistance,10),t=this.horiz,h=u(f.symbolWidth,t?m.defaultLegendLength:12),d=u(f.symbolHeight,t?12:m.defaultLegendLength);f=u(f.labelPadding,t?16:30);this.setLegendColor();c.symbol||(c.symbol=this.chart.renderer.rect(0,a.baseline-11,h,d).attr({zIndex:1}).add(c.group));c.labelWidth=h+e+(t?r:this.options.labels.x+this.maxLabelLength);c.labelHeight=
d+e+(t?f:0)};m.prototype.setState=function(a){this.series.forEach(function(c){c.setState(a)})};m.prototype.setVisible=function(){};m.prototype.getSeriesExtremes=function(){var a=this.series,c=a.length,e;this.dataMin=Infinity;for(this.dataMax=-Infinity;c--;){var f=a[c];var m=f.colorKey=u(f.options.colorKey,f.colorKey,f.pointValKey,f.zoneAxis,"y");var t=f.pointArrayMap;var h=f[m+"Min"]&&f[m+"Max"];if(f[m+"Data"])var d=f[m+"Data"];else if(t){d=[];t=t.indexOf(m);var n=f.yData;if(0<=t&&n)for(e=0;e<n.length;e++)d.push(u(n[e][t],
n[e]))}else d=f.yData;h?(f.minColorValue=f[m+"Min"],f.maxColorValue=f[m+"Max"]):(d=y.prototype.getExtremes.call(f,d),f.minColorValue=d.dataMin,f.maxColorValue=d.dataMax);"undefined"!==typeof f.minColorValue&&(this.dataMin=Math.min(this.dataMin,f.minColorValue),this.dataMax=Math.max(this.dataMax,f.maxColorValue));h||y.prototype.applyExtremes.call(f)}};m.prototype.drawCrosshair=function(a,c){var e=this.legendItem||{},f=c&&c.plotX,u=c&&c.plotY,m=this.pos,r=this.len;if(c){var h=this.toPixels(c.getNestedProperty(c.series.colorKey));
h<m?h=m-2:h>m+r&&(h=m+r+2);c.plotX=h;c.plotY=this.len-h;t.prototype.drawCrosshair.call(this,a,c);c.plotX=f;c.plotY=u;this.cross&&!this.cross.addedToColorAxis&&e.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(e.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};m.prototype.getPlotLinePath=function(a){var e=this.left,m=a.translatedValue,f=this.top;return c(m)?this.horiz?[["M",m-4,f-6],["L",m+
4,f-6],["L",m,f],["Z"]]:[["M",e,m],["L",e-6,m+6],["L",e-6,m-6],["Z"]]:t.prototype.getPlotLinePath.call(this,a)};m.prototype.update=function(a,c){var e=this.chart.legend;this.series.forEach(function(a){a.isDirtyData=!0});(a.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems();t.prototype.update.call(this,a,c);this.legendItem&&this.legendItem.label&&(this.setLegendColor(),e.colorizeItem(this,!0))};m.prototype.destroyItems=function(){var a=this.chart,c=this.legendItem||{};if(c.label)a.legend.destroyItem(this);
else if(c.labels){var e=0;for(c=c.labels;e<c.length;e++)a.legend.destroyItem(c[e])}a.isDirtyLegend=!0};m.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();t.prototype.destroy.apply(this,[].slice.call(arguments))};m.prototype.remove=function(a){this.destroyItems();t.prototype.remove.call(this,a)};m.prototype.getDataClassLegendSymbols=function(){var c=this,e=c.chart,m=c.legendItem&&c.legendItem.labels||[],f=e.options.legend,t=u(f.valueDecimals,-1),h=u(f.valueSuffix,""),n=
function(a){return c.series.reduce(function(c,f){c.push.apply(c,f.points.filter(function(c){return c.dataClass===a}));return c},[])},l;m.length||c.dataClasses.forEach(function(f,u){var v=f.from,E=f.to,I=e.numberFormatter,r=!0;l="";"undefined"===typeof v?l="< ":"undefined"===typeof E&&(l="> ");"undefined"!==typeof v&&(l+=I(v,t)+h);"undefined"!==typeof v&&"undefined"!==typeof E&&(l+=" - ");"undefined"!==typeof E&&(l+=I(E,t)+h);m.push(a({chart:e,name:l,options:{},drawLegendSymbol:d.drawRectangle,visible:!0,
isDataClass:!0,setState:function(a){for(var c=0,f=n(u);c<f.length;c++)f[c].setState(a)},setVisible:function(){this.visible=r=c.visible=!r;for(var a=0,f=n(u);a<f.length;a++)f[a].setVisible(r);e.legend.colorizeItem(this,r)}},f))});return m};m.defaultColorAxisOptions=g;m.defaultLegendLength=200;m.keepProps=["legendItem"];return m}(b);Array.prototype.push.apply(b.keepProps,k.keepProps);"";return k});x(b,"Maps/MapNavigationDefaults.js",[b["Core/Defaults.js"],b["Core/Utilities.js"]],function(b,k){k=k.extend;
var p={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};k(b.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return b.defaultOptions.mapNavigation=p});x(b,"Maps/MapNavigation.js",[b["Core/Chart/Chart.js"],
b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,p){function g(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function q(a){this.navButtons=[];this.init(a)}var d=k.doc,l=p.addEvent,w=p.extend,n=p.isNumber,h=p.merge,y=p.objectEach,a=p.pick;q.prototype.init=function(a){this.chart=a};q.prototype.update=function(c){var e=this,u=this.chart,t=u.options.mapNavigation,m,d=function(a){this.handler.call(u,a);g(a)},r=e.navButtons;c&&(t=u.options.mapNavigation=
h(u.options.mapNavigation,c));for(;r.length;)r.pop().destroy();a(t.enableButtons,t.enabled)&&!u.renderer.forExport&&(e.navButtonsGroup||(e.navButtonsGroup=u.renderer.g().attr({zIndex:4}).add()),y(t.buttons,function(a,c){a=h(t.buttonOptions,a);!u.styledMode&&a.theme&&(m=a.theme,m.style=h(a.theme.style,a.style));var f=u.renderer.button(a.text||"",0,0,d,m,void 0,void 0,void 0,"zoomIn"===c?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[c]).attr({width:a.width,
height:a.height,title:u.options.lang[c],padding:a.padding,zIndex:5}).add(e.navButtonsGroup);f.handler=a.onclick;l(f.element,"dblclick",g);r.push(f);w(a,{width:f.width,height:2*f.height});if(u.hasLoaded)f.align(a,!1,a.alignTo);else var n=l(u,"load",function(){f.element&&f.align(a,!1,a.alignTo);n()})}),c=function(){var a=u.exportingGroup&&u.exportingGroup.getBBox();if(a){var c=e.navButtonsGroup.getBBox();if(!(c.x>=a.x+a.width||c.x+c.width<=a.x||c.y>=a.y+a.height||c.y+c.height<=a.y)){var m=-c.y-c.height+
a.y-5;a=a.y+a.height-c.y+5;e.navButtonsGroup.attr({translateY:"bottom"===(t.buttonOptions&&t.buttonOptions.verticalAlign)?m:a})}}},u.hasLoaded||l(u,"render",c));this.updateEvents(t)};q.prototype.updateEvents=function(c){var e=this.chart;a(c.enableDoubleClickZoom,c.enabled)||c.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||l(e.container,"dblclick",function(a){e.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());a(c.enableMouseWheelZoom,
c.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||l(e.container,void 0!==d.onwheel?"wheel":void 0!==d.onmousewheel?"mousewheel":"DOMMouseScroll",function(a){e.pointer.inClass(a.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(a),g(a));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};w(b.prototype,{fitToBox:function(a,e){[["x","width"],["y","height"]].forEach(function(c){var t=c[0];c=c[1];a[t]+a[c]>e[t]+e[c]&&(a[c]>e[c]?(a[c]=e[c],a[t]=e[t]):
a[t]=e[t]+e[c]-a[c]);a[c]>e[c]&&(a[c]=e[c]);a[t]<e[t]&&(a[t]=e[t])});return a},mapZoom:function(a,e,h,t,m){this.mapView&&(n(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,n(e)&&n(h)?this.mapView.projection.inverse([e,h]):void 0,n(t)&&n(m)?[t,m]:void 0))}});l(b,"beforeRender",function(){this.mapNavigation=new q(this);this.mapNavigation.update()});k.MapNavigation=q});x(b,"Maps/MapPointer.js",[b["Core/Pointer.js"],b["Core/Utilities.js"]],function(b,k){var p=k.defined,g=k.extend,q=k.pick;k=k.wrap;
var d=b.prototype.normalize,l=0,w;g(b.prototype,{normalize:function(n,h){var l=this.chart;n=d.call(this,n,h);l&&l.mapView&&(h=l.mapView.pixelsToLonLat({x:n.chartX-l.plotLeft,y:n.chartY-l.plotTop}))&&g(n,h);return n},onContainerDblClick:function(d){var h=this.chart;d=this.normalize(d);h.options.mapNavigation.enableDoubleClickZoomTo?h.pointer.inClass(d.target,"highcharts-tracker")&&h.hoverPoint&&h.hoverPoint.zoomTo():h.isInsidePlot(d.chartX-h.plotLeft,d.chartY-h.plotTop)&&h.mapZoom(.5,void 0,void 0,
d.chartX,d.chartY)},onContainerMouseWheel:function(d){var h=this.chart;d=this.normalize(d);var g=p(d.wheelDelta)&&-d.wheelDelta/120||d.deltaY||d.detail;1<=Math.abs(g)&&(l+=Math.abs(g),w&&clearTimeout(w),w=setTimeout(function(){l=0},50));10>l&&h.isInsidePlot(d.chartX-h.plotLeft,d.chartY-h.plotTop)&&h.mapView&&h.mapView.zoomBy((h.options.mapNavigation.mouseWheelSensitivity-1)*-g,void 0,[d.chartX,d.chartY],1>Math.abs(g)?!1:void 0)}});k(b.prototype,"zoomOption",function(d){var h=this.chart.options.mapNavigation;
q(h.enableTouchZoom,h.enabled)&&(this.chart.options.chart.zooming.pinchType="xy");d.apply(this,[].slice.call(arguments,1))});k(b.prototype,"pinchTranslate",function(d,h,l,a,c,e,u){d.call(this,h,l,a,c,e,u);"map"===this.chart.options.chart.type&&this.hasZoom&&(d=a.scaleX>a.scaleY,this.pinchTranslateDirection(!d,h,l,a,c,e,u,d?a.scaleX:a.scaleY))})});x(b,"Series/ColorMapComposition.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k){var p=b.seriesTypes.column.prototype,g=k.addEvent,
q=k.defined,d;(function(d){function l(d){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:d&&"hover"===d.state?1:0})}var b=[];d.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value&&(void 0===this.value||!isNaN(this.value))}};d.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],
colorAttribs:function(d){var h={};!q(d.color)||d.state&&"normal"!==d.state||(h[this.colorProp||"fill"]=d.color);return h},pointAttribs:p.pointAttribs};d.compose=function(d){var h=d.prototype.pointClass;-1===b.indexOf(h)&&(b.push(h),g(h,"afterSetState",l));return d}})(d||(d={}));return d});x(b,"Maps/MapSymbols.js",[b["Core/Renderer/SVG/SVGRenderer.js"]],function(b){function k(b,g,q,d,l,k,n,h){return[["M",b+l,g],["L",b+q-k,g],["C",b+q-k/2,g,b+q,g+k/2,b+q,g+k],["L",b+q,g+d-n],["C",b+q,g+d-n/2,b+q-n/
2,g+d,b+q-n,g+d],["L",b+h,g+d],["C",b+h/2,g+d,b,g+d-h/2,b,g+d-h],["L",b,g+l],["C",b,g+l/2,b+l/2,g,b+l,g],["Z"]]}b=b.prototype.symbols;b.bottombutton=function(b,g,q,d,l){l=l&&l.r||0;return k(b-1,g-1,q,d,0,0,l,l)};b.topbutton=function(b,g,q,d,l){l=l&&l.r||0;return k(b-1,g-1,q,d,l,l,0,0)};return b});x(b,"Core/Chart/MapChart.js",[b["Core/Chart/Chart.js"],b["Core/Defaults.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(b,k,p,g){var q=this&&this.__extends||function(){var d=function(h,
b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return d(h,b)};return function(h,b){function a(){this.constructor=h}d(h,b);h.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),d=k.getOptions,l=g.merge,w=g.pick;b=function(b){function h(){return null!==b&&b.apply(this,arguments)||this}q(h,b);h.prototype.init=function(h,a){var c=d().credits;h=l({chart:{panning:{enabled:!0,type:"xy"},
type:"map"},credits:{mapText:w(c.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:w(c.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},h);b.prototype.init.call(this,h,a)};return h}(b);(function(d){d.maps={};d.mapChart=function(h,b,a){return new d(h,b,a)};d.splitPath=function(d){"string"===typeof d&&(d=d.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),d=d.split(/[ ,;]+/).map(function(d){return/[A-za-z]/.test(d)?
d:parseFloat(d)}));return p.prototype.pathToSegments(d)}})(b||(b={}));return b});x(b,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(b){var k=-Number.MAX_VALUE,p=Number.MAX_VALUE,g=-Number.MAX_VALUE,q=Number.MAX_VALUE,d;b.forEach(function(b){var l=b[b.length-2];b=b[b.length-1];"number"===typeof l&&"number"===typeof b&&(p=Math.min(p,l),k=Math.max(k,l),q=Math.min(q,b),g=Math.max(g,b),d=!0)});if(d)return{x1:p,y1:q,x2:k,y2:g}},pointInPolygon:function(b,k){var p,g=!1,q=b.x,d=b.y;b=
0;for(p=k.length-1;b<k.length;p=b++){var l=k[b][1]>d;var w=k[p][1]>d;l!==w&&q<(k[p][0]-k[b][0])*(d-k[b][1])/(k[p][1]-k[b][1])+k[b][0]&&(g=!g)}return g}}});x(b,"Series/Map/MapPoint.js",[b["Series/ColorMapComposition.js"],b["Maps/MapUtilities.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p,g){var q=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var c in e)e.hasOwnProperty(c)&&
(a[c]=e[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),d=k.boundsFromPath,l=g.extend,w=g.isNumber,n=g.pick;k=function(b){function h(){var a=null!==b&&b.apply(this,arguments)||this;a.options=void 0;a.path=void 0;a.series=void 0;return a}q(h,b);h.getProjectedPath=function(a,c){a.projectedPath||(c&&a.geometry?(c.hasCoordinates=!0,a.projectedPath=c.path(a.geometry)):a.projectedPath=a.path);return a.projectedPath||
[]};h.prototype.applyOptions=function(a,c){var e=this.series;a=b.prototype.applyOptions.call(this,a,c);c=e.joinBy;e.mapData&&e.mapMap&&(c=b.prototype.getNestedProperty.call(a,c[1]),(e="undefined"!==typeof c&&e.mapMap[c])?l(a,e):a.value=a.value||null);return a};h.prototype.getProjectedBounds=function(a){a=h.getProjectedPath(this,a);a=d(a);var c=this.properties;if(a){var e=c&&c["hc-middle-x"];c=c&&c["hc-middle-y"];a.midX=a.x1+(a.x2-a.x1)*n(this.middleX,w(e)?e:.5);e=n(this.middleY,w(c)?c:.5);this.geometry||
(e=1-e);a.midY=a.y2-(a.y2-a.y1)*e;return a}};h.prototype.onMouseOver=function(a){g.clearTimeout(this.colorInterval);if(!this.isNull&&this.visible||this.series.options.nullInteraction)b.prototype.onMouseOver.call(this,a);else this.series.onMouseOut(a)};h.prototype.setVisible=function(a){var c=a?"show":"hide";this.visible=this.options.visible=!!a;if(this.dataLabel)this.dataLabel[c]();this.graphic&&this.graphic.attr(this.series.pointAttribs(this))};h.prototype.zoomTo=function(){var a=this.series.chart;
a.mapView&&this.bounds&&(a.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,a.redraw())};return h}(p.seriesTypes.scatter.prototype.pointClass);l(k.prototype,{dataLabelOnNull:b.pointMembers.dataLabelOnNull,moveToTopOnHover:b.pointMembers.moveToTopOnHover,isValid:b.pointMembers.isValid});return k});x(b,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}});x(b,"Maps/MapViewInsetsOptionsDefault.js",
[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});x(b,"Extensions/GeoJSON.js",[b["Core/Chart/Chart.js"],b["Core/FormatUtilities.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,p,g){function q(a,c){c||(c=Object.keys(a.objects)[0]);c=a.objects[c];if(c["hc-decoded-geojson"])return c["hc-decoded-geojson"];var e=a.arcs;if(a.transform){var d=a.transform,b=d.scale,m=d.translate;e=a.arcs.map(function(a){var c=
0,f=0;return a.map(function(a){a=a.slice();a[0]=(c+=a[0])*b[0]+m[0];a[1]=(f+=a[1])*b[1]+m[1];return a})})}var h=function(a){return"number"===typeof a[0]?a.reduce(function(a,c,d){var f=0>c?e[~c]:e[c];0>c?(f=f.slice(0,0===d?f.length:f.length-1),f.reverse()):d&&(f=f.slice(1));return a.concat(f)},[]):a.map(h)};d=c.geometries.map(function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||h(a.arcs)}}});a={type:"FeatureCollection",copyright:a.copyright,copyrightShort:a.copyrightShort,
copyrightUrl:a.copyrightUrl,features:d,"hc-recommended-mapview":c["hc-recommended-mapview"],bbox:a.bbox,title:a.title};return c["hc-decoded-geojson"]=a}function d(a,c,e){void 0===c&&(c="map");var d=[];a="Topology"===a.type?q(a):a;a.features.forEach(function(a){var e=a.geometry||{},b=e.type;e=e.coordinates;a=a.properties;var t;"map"!==c&&"mapbubble"!==c||"Polygon"!==b&&"MultiPolygon"!==b?"mapline"!==c||"LineString"!==b&&"MultiLineString"!==b?"mappoint"===c&&"Point"===b&&e.length&&(t={geometry:{coordinates:e,
type:b}}):e.length&&(t={geometry:{coordinates:e,type:b}}):e.length&&(t={geometry:{coordinates:e,type:b}});if(t){b=a&&(a.name||a.NAME);e=a&&a.lon;var u=a&&a.lat;d.push(h(t,{lat:"number"===typeof u?u:void 0,lon:"number"===typeof e?e:void 0,name:"string"===typeof b?b:void 0,properties:a}))}});e&&a.copyrightShort&&(e.chart.mapCredits=l(e.chart.options.credits.mapText,{geojson:a}),e.chart.mapCreditsFull=l(e.chart.options.credits.mapTextFull,{geojson:a}));return d}var l=k.format,w=p.win,n=g.error,h=g.extend,
y=g.merge;k=g.wrap;"";b.prototype.transformFromLatLon=function(a,c){var e=this.options.chart.proj4||w.proj4;if(e){var d=c.jsonmarginX;d=void 0===d?0:d;var b=c.jsonmarginY;b=void 0===b?0:b;var m=c.jsonres;m=void 0===m?1:m;var h=c.scale;h=void 0===h?1:h;var r=c.xoffset;r=void 0===r?0:r;var l=c.xpan;l=void 0===l?0:l;var f=c.yoffset;f=void 0===f?0:f;var g=c.ypan;g=void 0===g?0:g;a=e(c.crs,[a.lon,a.lat]);e=c.cosAngle||c.rotation&&Math.cos(c.rotation);var q=c.sinAngle||c.rotation&&Math.sin(c.rotation);
c=c.rotation?[a[0]*e+a[1]*q,-a[0]*q+a[1]*e]:a;return{x:((c[0]-r)*h+l)*m+d,y:-(((f-c[1])*h+g)*m-b)}}n(21,!1,this)};b.prototype.transformToLatLon=function(a,c){var e=this.options.chart.proj4||w.proj4;if(!e)n(21,!1,this);else if(null!==a.y){var d=c.jsonmarginX,b=c.jsonmarginY,m=c.jsonres;m=void 0===m?1:m;var h=c.scale;h=void 0===h?1:h;var r=c.xoffset,l=c.xpan,f=c.yoffset,g=c.ypan;a={x:((a.x-(void 0===d?0:d))/m-(void 0===l?0:l))/h+(void 0===r?0:r),y:((a.y-(void 0===b?0:b))/m+(void 0===g?0:g))/h+(void 0===
f?0:f)};d=c.cosAngle||c.rotation&&Math.cos(c.rotation);b=c.sinAngle||c.rotation&&Math.sin(c.rotation);c=e(c.crs,"WGS84",c.rotation?{x:a.x*d+a.y*-b,y:a.x*b+a.y*d}:a);return{lat:c.y,lon:c.x}}};b.prototype.fromPointToLatLon=function(a){return this.mapView&&this.mapView.projectedUnitsToLonLat(a)};b.prototype.fromLatLonToPoint=function(a){return this.mapView&&this.mapView.lonLatToProjectedUnits(a)};k(b.prototype,"addCredits",function(a,c){c=y(!0,this.options.credits,c);this.mapCredits&&(c.href=null);a.call(this,
c);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});p.geojson=d;return{geojson:d,topo2geo:q}});x(b,"Core/Geometry/PolygonClip.js",[],function(){var b=function(b,q,d){return(q[0]-b[0])*(d[1]-b[1])>(q[1]-b[1])*(d[0]-b[0])},k=function(b,q,d,l){var g=[b[0]-q[0],b[1]-q[1]],n=[d[0]-l[0],d[1]-l[1]];b=b[0]*q[1]-b[1]*q[0];d=d[0]*l[1]-d[1]*l[0];l=1/(g[0]*n[1]-g[1]*n[0]);g=[(b*n[0]-d*g[0])*l,(b*n[1]-d*g[1])*l];g.isIntersection=!0;return g},p;(function(g){g.clipLineString=function(b,
d){var l=[];b=g.clipPolygon(b,d,!1);for(d=1;d<b.length;d++)b[d].isIntersection&&b[d-1].isIntersection&&(l.push(b.splice(0,d)),d=0),d===b.length-1&&l.push(b);return l};g.clipPolygon=function(g,d,l){void 0===l&&(l=!0);for(var q=d[d.length-1],n,h,p=g,a=0;a<d.length;a++){var c=p;g=d[a];p=[];n=l?c[c.length-1]:c[0];for(var e=0;e<c.length;e++)h=c[e],b(q,g,h)?(b(q,g,n)||p.push(k(q,g,n,h)),p.push(h)):b(q,g,n)&&p.push(k(q,g,n,h)),n=h;q=g}return p}})(p||(p={}));return p});x(b,"Maps/Projections/LambertConformalConic.js",
[],function(){var b=Math.sign||function(b){return 0===b?0:0<b?1:-1},k=Math.PI/180,p=Math.PI/2;return function(){function g(g){var d,l=(g.parallels||[]).map(function(b){return b*k}),q=l[0]||0;l=null!==(d=l[1])&&void 0!==d?d:q;d=Math.cos(q);"object"===typeof g.projectedBounds&&(this.projectedBounds=g.projectedBounds);g=q===l?Math.sin(q):Math.log(d/Math.cos(l))/Math.log(Math.tan((p+l)/2)/Math.tan((p+q)/2));1e-10>Math.abs(g)&&(g=1e-10*(b(g)||1));this.n=g;this.c=d*Math.pow(Math.tan((p+q)/2),g)/g}g.prototype.forward=
function(b){var d=b[0]*k,g=this.c,q=this.n,n=this.projectedBounds;b=b[1]*k;0<g?b<-p+.000001&&(b=-p+.000001):b>p-.000001&&(b=p-.000001);var h=g/Math.pow(Math.tan((p+b)/2),q);b=h*Math.sin(q*d)*63.78137;d=63.78137*(g-h*Math.cos(q*d));g=[b,d];n&&(b<n.x1||b>n.x2||d<n.y1||d>n.y2)&&(g.outside=!0);return g};g.prototype.inverse=function(g){var d=g[0]/63.78137,l=this.c,q=this.n;g=l-g[1]/63.78137;var n=b(q)*Math.sqrt(d*d+g*g),h=Math.atan2(d,Math.abs(g))*b(g);0>g*q&&(h-=Math.PI*b(d)*b(g));return[h/q/k,(2*Math.atan(Math.pow(l/
n,1/q))-p)/k]};return g}()});x(b,"Maps/Projections/EqualEarth.js",[],function(){var b=Math.sqrt(3)/2;return function(){function k(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}k.prototype.forward=function(k){var g=Math.PI/180,q=Math.asin(b*Math.sin(k[1]*g)),d=q*q,l=d*d*d;return[k[0]*g*Math.cos(q)*74.03120656864502/(b*(1.340264+3*-.081106*d+l*(7*.000893+.034164*d))),74.03120656864502*q*(1.340264+-.081106*d+l*(.000893+.003796*d))]};k.prototype.inverse=
function(k){var g=k[0]/74.03120656864502;k=k[1]/74.03120656864502;var q=180/Math.PI,d=k,l;for(l=0;12>l;++l){var p=d*d;var n=p*p*p;var h=d*(1.340264+-.081106*p+n*(.000893+.003796*p))-k;p=1.340264+3*-.081106*p+n*(7*.000893+.034164*p);d-=h/=p;if(1e-9>Math.abs(h))break}p=d*d;return[q*b*g*(1.340264+3*-.081106*p+p*p*p*(7*.000893+.034164*p))/Math.cos(d),q*Math.asin(Math.sin(d)/b)]};return k}()});x(b,"Maps/Projections/Miller.js",[],function(){var b=Math.PI/4,k=Math.PI/180;return function(){function p(){this.bounds=
{x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}p.prototype.forward=function(g){return[g[0]*k*63.78137,79.7267125*Math.log(Math.tan(b+.4*g[1]*k))]};p.prototype.inverse=function(g){return[g[0]/63.78137/k,2.5*(Math.atan(Math.exp(g[1]/63.78137*.8))-b)/k]};return p}()});x(b,"Maps/Projections/Orthographic.js",[],function(){var b=Math.PI/180;return function(){function k(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,
y2:63.78460826781007}}k.prototype.forward=function(k){var g=k[0];k=k[1]*b;k=[Math.cos(k)*Math.sin(g*b)*63.78460826781007,63.78460826781007*Math.sin(k)];if(-90>g||90<g)k.outside=!0;return k};k.prototype.inverse=function(k){var g=k[0]/63.78460826781007;k=k[1]/63.78460826781007;var q=Math.sqrt(g*g+k*k),d=Math.asin(q),l=Math.sin(d);return[Math.atan2(g*l,q*Math.cos(d))/b,Math.asin(q&&k*l/q)/b]};return k}()});x(b,"Maps/Projections/WebMercator.js",[],function(){var b=Math.PI/180;return function(){function k(){this.bounds=
{x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}k.prototype.forward=function(k){var g=Math.sin(k[1]*b);g=[63.78137*k[0]*b,63.78137*Math.log((1+g)/(1-g))/2];85.0511287798<Math.abs(k[1])&&(g.outside=!0);return g};k.prototype.inverse=function(k){return[k[0]/(63.78137*b),(2*Math.atan(Math.exp(k[1]/63.78137))-Math.PI/2)/b]};return k}()});x(b,"Maps/Projections/ProjectionRegistry.js",[b["Maps/Projections/LambertConformalConic.js"],
b["Maps/Projections/EqualEarth.js"],b["Maps/Projections/Miller.js"],b["Maps/Projections/Orthographic.js"],b["Maps/Projections/WebMercator.js"]],function(b,k,p,g,q){return{EqualEarth:k,LambertConformalConic:b,Miller:p,Orthographic:g,WebMercator:q}});x(b,"Maps/Projection.js",[b["Core/Geometry/PolygonClip.js"],b["Maps/Projections/ProjectionRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var g=this&&this.__spreadArray||function(b,a,c){if(c||2===arguments.length)for(var e=0,d=a.length,h;e<d;e++)!h&&
e in a||(h||(h=Array.prototype.slice.call(a,0,e)),h[e]=a[e]);return b.concat(h||Array.prototype.slice.call(a))},q=b.clipLineString,d=b.clipPolygon,l=p.clamp,w=p.erase,n=2*Math.PI/360,h=function(b){-180>b&&(b+=360);180<b&&(b-=360);return b};return function(){function b(a){void 0===a&&(a={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=a;var c=a.name,e=a.projectedBounds,d=a.rotation;this.rotator=d?this.getRotator(d):void 0;if(c=c?b.registry[c]:void 0)this.def=new c(a);
var h=this.def,m=this.rotator;h&&(this.maxLatitude=h.maxLatitude||90,this.hasGeoProjection=!0);m&&h?(this.forward=function(a){return h.forward(m.forward(a))},this.inverse=function(a){return m.inverse(h.inverse(a))}):h?(this.forward=function(a){return h.forward(a)},this.inverse=function(a){return h.inverse(a)}):m&&(this.forward=m.forward,this.inverse=m.inverse);this.bounds="world"===e?h&&h.bounds:e}b.add=function(a,c){b.registry[a]=c};b.greatCircle=function(a,b,e){var c=Math.atan2,d=Math.cos,h=Math.sin,
g=Math.sqrt,r=a[1]*n,l=a[0]*n,f=b[1]*n,k=b[0]*n,z=f-r,q=k-l;z=h(z/2)*h(z/2)+d(r)*d(f)*h(q/2)*h(q/2);z=2*c(g(z),g(1-z));var p=Math.round(6371E3*z/5E5);q=[];e&&q.push(a);if(1<p)for(p=a=1/p;.999>p;p+=a){var C=h((1-p)*z)/h(z),D=h(p*z)/h(z),v=C*d(r)*d(l)+D*d(f)*d(k),E=C*d(r)*h(l)+D*d(f)*h(k);C=C*h(r)+D*h(f);C=c(C,g(v*v+E*E));v=c(E,v);q.push([v/n,C/n])}e&&q.push(b);return q};b.insertGreatCircles=function(a){for(var c=a.length-1;c--;)if(10<Math.max(Math.abs(a[c][0]-a[c+1][0]),Math.abs(a[c][1]-a[c+1][1]))){var e=
b.greatCircle(a[c],a[c+1]);e.length&&a.splice.apply(a,g([c+1,0],e,!1))}};b.toString=function(a){a=a||{};var b=a.rotation;return[a.name,b&&b.join(",")].join(";")};b.prototype.lineIntersectsBounds=function(a){var b=this.bounds||{},e=b.x2,d=b.y1,h=b.y2,m=function(a,b,c){var e=a[0];a=a[1];var f=b?0:1;if("number"===typeof c&&e[b]>=c!==a[b]>=c)return e=e[f]+(c-e[b])/(a[b]-e[b])*(a[f]-e[f]),b?[e,c]:[c,e]},g=a[0];if(b=m(a,0,b.x1))g=b,a[1]=b;else if(b=m(a,0,e))g=b,a[1]=b;if(b=m(a,1,d))g=b;else if(b=m(a,1,
h))g=b;return g};b.prototype.getRotator=function(a){var b=a[0]*n,e=(a[1]||0)*n;a=(a[2]||0)*n;var d=Math.cos(e),h=Math.sin(e),m=Math.cos(a),g=Math.sin(a);if(0!==b||0!==e||0!==a)return{forward:function(a){var c=a[0]*n+b,e=a[1]*n,l=Math.cos(e);a=Math.cos(c)*l;c=Math.sin(c)*l;e=Math.sin(e);l=e*d+a*h;return[Math.atan2(c*m-l*g,a*d-e*h)/n,Math.asin(l*m+c*g)/n]},inverse:function(a){var c=a[0]*n,e=a[1]*n,l=Math.cos(e);a=Math.cos(c)*l;c=Math.sin(c)*l;e=Math.sin(e);l=e*m-c*g;return[(Math.atan2(c*m+e*g,a*d+l*
h)-b)/n,Math.asin(l*d-a*h)/n]}}};b.prototype.forward=function(a){return a};b.prototype.inverse=function(a){return a};b.prototype.cutOnAntimeridian=function(a,c){var e=[],d=[a];a.forEach(function(b,f){var d=a[f-1];if(!f){if(!c)return;d=a[a.length-1]}var h=d[0],v=b[0];(-90>h||90<h)&&(-90>v||90<v)&&0<h!==0<v&&(v=l((180-(h+360)%360)/((v+360)%360-(h+360)%360),0,1),e.push({i:f,lat:d[1]+v*(b[1]-d[1]),direction:0>h?1:-1,previousLonLat:d,lonLat:b}))});if(e.length)if(c){if(1===e.length%2){var t=e.slice().sort(function(a,
b){return Math.abs(b.lat)-Math.abs(a.lat)})[0];w(e,t)}for(var m=e.length-2;0<=m;){var k=e[m].i,r=h(180+.000001*e[m].direction),q=h(180-.000001*e[m].direction);k=a.splice.apply(a,g([k,e[m+1].i-k],b.greatCircle([r,e[m].lat],[r,e[m+1].lat],!0),!1));k.push.apply(k,b.greatCircle([q,e[m+1].lat],[q,e[m].lat],!0));d.push(k);m-=2}if(t)for(r=0;r<d.length;r++){m=t.direction;var f=t.lat;q=d[r];k=q.indexOf(t.lonLat);if(-1<k){r=(0>f?-1:1)*this.maxLatitude;var n=h(180+.000001*m),z=h(180-.000001*m);f=b.greatCircle([n,
f],[n,r],!0);for(n+=120*m;-180<n&&180>n;n+=120*m)f.push([n,r]);f.push.apply(f,b.greatCircle([z,r],[z,t.lat],!0));q.splice.apply(q,g([k,0],f,!1));break}}}else for(m=e.length;m--;)k=e[m].i,k=a.splice(k,a.length,[h(180+.000001*e[m].direction),e[m].lat]),k.unshift([h(180-.000001*e[m].direction),e[m].lat]),d.push(k);return d};b.prototype.path=function(a){var c=this,e=this.bounds,h=this.def,g=this.rotator,m=[],l="Polygon"===a.type||"MultiPolygon"===a.type,k=this.hasGeoProjection,n=!h||!1!==h.antimeridianCutting,
f=n?g:void 0,p=n?h||this:this,z;e&&(z=[[e.x1,e.y1],[e.x2,e.y1],[e.x2,e.y2],[e.x1,e.y2]]);var G=function(a){a=a.map(function(a){if(n){f&&(a=f.forward(a));var b=a[0];.000001>Math.abs(b-180)&&(b=180>b?179.999999:180.000001);a=[b,a[1]]}return a});var h=[a];k&&(b.insertGreatCircles(a),n&&(h=c.cutOnAntimeridian(a,l)));h.forEach(function(a){if(!(2>a.length)){var c=!1,f=!1,h=function(a){c?m.push(["L",a[0],a[1]]):(m.push(["M",a[0],a[1]]),c=!0)},g=!1,t=!1,r=a.map(function(a){a=p.forward(a);a.outside?g=!0:t=
!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(n){l&&r.push(r[0]);if(g){if(!t)return;if(z)if(l)r=d(r,z);else if(e){q(r,z).forEach(function(a){c=!1;a.forEach(h)});return}}r.forEach(h)}else for(var u=0;u<r.length;u++){var A=a[u],D=r[u];if(D.outside)f=!0;else{if(l&&!B){var B=A;a.push(A);r.push(D)}f&&F&&(l&&k?b.greatCircle(F,A).forEach(function(a){return h(p.forward(a))}):c=!1);h(D);var F=A;f=!1}}}})};"LineString"===a.type?G(a.coordinates):"MultiLineString"===a.type?a.coordinates.forEach(function(a){return G(a)}):
"Polygon"===a.type?(a.coordinates.forEach(function(a){return G(a)}),m.length&&m.push(["Z"])):"MultiPolygon"===a.type&&(a.coordinates.forEach(function(a){a.forEach(function(a){return G(a)})}),m.length&&m.push(["Z"]));return m};b.registry=k;return b}()});x(b,"Maps/MapView.js",[b["Maps/MapViewOptionsDefault.js"],b["Maps/MapViewInsetsOptionsDefault.js"],b["Extensions/GeoJSON.js"],b["Core/Chart/MapChart.js"],b["Maps/MapUtilities.js"],b["Maps/Projection.js"],b["Core/Utilities.js"]],function(b,k,p,g,q,d,
l){var w=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function e(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),n=this&&this.__spreadArray||function(a,b,c){if(c||2===arguments.length)for(var e=0,f=b.length,d;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,
0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},h=p.topo2geo,y=g.maps,a=q.boundsFromPath,c=q.pointInPolygon,e=l.addEvent,u=l.clamp,t=l.fireEvent,m=l.isArray,B=l.isNumber,r=l.isObject,F=l.isString,f=l.merge,A=l.pick,z=l.relativeLength,G=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},H=function(){function a(c,h){var v=this;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];var g;if(!(this instanceof
C)){var m=n([c.options.chart.map],(c.options.series||[]).map(function(a){return a.mapData}),!0).map(function(a){return v.getGeoMap(a)}),l=[];m.forEach(function(a){a&&(g||(g=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,l.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))});var k=l.length&&a.compositeBounds(l);if(k){var E=k.x1;var r=k.y1,t=k.x2;k=k.y2;E=180<t-E&&90<k-r?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[r,k],rotation:[-(E+t)/2]}}this.geoMap=m[0]}this.userOptions=h||{};m=f(b,{projection:E},
g,h);k=g&&g.insets;h=h&&h.insets;k&&h&&(m.insets=a.mergeInsets(k,h));this.chart=c;this.center=m.center;this.options=m;this.projection=new d(m.projection);this.playingField=c.plotBox;this.zoom=m.zoom||0;this.createInsets();this.eventsToUnbind.push(e(c,"afterSetChartSize",function(){v.playingField=v.getField();if(void 0===v.minZoom||v.minZoom===v.zoom)v.fitToBounds(void 0,void 0,!1),!v.chart.hasRendered&&B(v.userOptions.zoom)&&(v.zoom=v.userOptions.zoom),v.userOptions.center&&f(!0,v.center,v.userOptions.center)}));
this.setUpEvents()}a.mergeInsets=function(a,b){var c=function(a){var b={};a.forEach(function(a,c){b[a&&a.id||"i".concat(c)]=a});return b},e=f(c(a),c(b));return Object.keys(e).map(function(a){return e[a]})};a.prototype.createInsets=function(){var a=this,b=this.options,c=b.insets;c&&c.forEach(function(c){c=new C(a,f(b.insetOptions,c));a.insets.push(c)})};a.prototype.fitToBounds=function(a,b,c,e){void 0===c&&(c=!0);var f=a||this.getProjectedBounds();if(f){var d=A(b,a?0:this.options.padding);b=this.getField(!1);
d=m(d)?d:[d,d,d,d];this.padding=[z(d[0],b.height),z(d[1],b.width),z(d[2],b.height),z(d[3],b.width)];this.playingField=this.getField();b=G(f,this.playingField);a||(this.minZoom=b);a=this.projection.inverse([(f.x2+f.x1)/2,(f.y2+f.y1)/2]);this.setView(a,b,c,e)}};a.prototype.getField=function(a){void 0===a&&(a=!0);a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}};a.prototype.getGeoMap=function(a){if(F(a))return y[a];if(r(a,!0)){if("FeatureCollection"===
a.type)return a;if("Topology"===a.type)return h(a)}};a.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var c=this.padding,e=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+c[1]+c[3],height:(a.y2-a.y1)*b+c[0]+c[2],x:e.x-c[3],y:e.y-c[0]}}};a.prototype.getProjectedBounds=function(){var b=this.chart.series.reduce(function(a,b){var c=b.getProjectedBounds&&b.getProjectedBounds();c&&!1!==b.options.affectsMapView&&a.push(c);return a},[]);return this.projection.bounds||
a.compositeBounds(b)};a.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)};a.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,c=a.y,e=a.width;a=a.height;var d=this.projection.forward(this.center),f=this.projection.hasCoordinates?-1:1,h=this.getScale();f*=h;return{scaleX:h,scaleY:f,translateX:b+e/2-d[0]*h,translateY:c+a/2-d[1]*f}};a.prototype.lonLatToPixels=function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)};a.prototype.lonLatToProjectedUnits=
function(a){var b=this.chart,e=b.mapTransforms;if(e){for(var f in e)if(Object.hasOwnProperty.call(e,f)&&e[f].hitZone){var d=b.transformFromLatLon(a,e[f]);if(d&&c(d,e[f].hitZone.coordinates[0]))return d}return b.transformFromLatLon(a,e["default"])}e=0;for(f=this.insets;e<f.length;e++)if(b=f[e],b.options.geoBounds&&c({x:a.lon,y:a.lat},b.options.geoBounds.coordinates[0]))return a=b.projection.forward([a.lon,a.lat]),a=b.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);a=this.projection.forward([a.lon,
a.lat]);if(!a.outside)return{x:a[0],y:a[1]}};a.prototype.projectedUnitsToLonLat=function(a){var b=this.chart,e=b.mapTransforms;if(e){for(var f in e)if(Object.hasOwnProperty.call(e,f)&&e[f].hitZone&&c(a,e[f].hitZone.coordinates[0]))return b.transformToLatLon(a,e[f]);return b.transformToLatLon(a,e["default"])}e=this.projectedUnitsToPixels(a);f=0;for(var d=this.insets;f<d.length;f++)if(b=d[f],b.hitZone&&c(e,b.hitZone.coordinates[0]))return a=b.pixelsToProjectedUnits(e),a=b.projection.inverse([a.x,a.y]),
{lon:a[0],lat:a[1]};a=this.projection.inverse([a.x,a.y]);return{lon:a[0],lat:a[1]}};a.prototype.redraw=function(a){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)};a.prototype.setView=function(a,b,c,e){void 0===c&&(c=!0);a&&(this.center=a);"number"===typeof b&&("number"===typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"===typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),B(b)&&(this.zoom=b));var f=this.getProjectedBounds();if(f){a=
this.projection.forward(this.center);var d=this.playingField;b=d.x;var h=d.y,g=d.width;d=d.height;var m=this.getScale(),l=this.projectedUnitsToPixels({x:f.x1,y:f.y1}),k=this.projectedUnitsToPixels({x:f.x2,y:f.y2});f=[(f.x1+f.x2)/2,(f.y1+f.y2)/2];var r=l.x,u=k.y;k=k.x;l=l.y;k-r<g?a[0]=f[0]:r<b&&k<b+g?a[0]+=Math.max(r-b,k-g-b)/m:k>b+g&&r>b&&(a[0]+=Math.min(k-g-b,r-b)/m);l-u<d?a[1]=f[1]:u<h&&l<h+d?a[1]-=Math.max(u-h,l-d-h)/m:l>h+d&&u>h&&(a[1]-=Math.min(l-d-h,u-h)/m);this.center=this.projection.inverse(a);
this.insets.forEach(function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}t(this,"afterSetView");c&&this.redraw(e)};a.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),c=this.projection.forward(this.center),e=this.playingField;return{x:e.x+e.width/2-b*(c[0]-a.x),y:e.y+e.height/2+b*(c[1]-a.y)}};a.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))};a.prototype.pixelsToProjectedUnits=function(a){var b=
a.x;a=a.y;var c=this.getScale(),e=this.projection.forward(this.center),f=this.playingField;return{x:e[0]+(b-(f.x+f.width/2))/c,y:e[1]-(a-(f.y+f.height/2))/c}};a.prototype.setUpEvents=function(){var a=this,b=this.chart,c,f,d,h=function(e){var h=b.pointer.pinchDown,g=a.projection,m=b.mouseDownX,l=b.mouseDownY;1===h.length&&(m=h[0].chartX,l=h[0].chartY);if("number"===typeof m&&"number"===typeof l){var k=""+m+",".concat(l),r=e.originalEvent;h=r.chartX;r=r.chartY;k!==f&&(f=k,c=a.projection.forward(a.center),
d=(a.projection.options.rotation||[0,0]).slice());k=(k=g.def&&g.def.bounds)&&G(k,a.playingField)||-Infinity;"Orthographic"===g.options.name&&(a.minZoom||Infinity)<1.1*k?(g=440/(a.getScale()*Math.min(b.plotWidth,b.plotHeight)),d&&(m=(m-h)*g-d[0],l=u(-d[1]-(l-r)*g,-80,80),h=a.zoom,a.update({projection:{rotation:[-m,-l]}},!1),a.zoom=h,b.redraw(!1))):(g=a.getScale(),l=a.projection.inverse([c[0]+(m-h)/g,c[1]-(l-r)/g]),a.setView(l,void 0,!0,!1));e.preventDefault()}};e(b,"pan",h);e(b,"touchpan",h);e(b,"selection",
function(c){if(c.resetSelection)a.zoomBy();else{var e=c.x-b.plotLeft,f=c.y-b.plotTop,d=a.pixelsToProjectedUnits({x:e,y:f}),h=d.y;d=d.x;e=a.pixelsToProjectedUnits({x:e+c.width,y:f+c.height});a.fitToBounds({x1:d,y1:h,x2:e.x,y2:e.y},void 0,!0,c.originalEvent.touches?!1:void 0);/^touch/.test(c.originalEvent.type)||b.showResetZoom();c.preventDefault()}})};a.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())};a.prototype.update=function(a,b,c){void 0===
b&&(b=!0);var e=a.projection;e=e&&d.toString(e)!==d.toString(this.options.projection);var h=!1;f(!0,this.userOptions,a);f(!0,this.options,a);"insets"in a&&(this.insets.forEach(function(a){return a.destroy()}),this.insets.length=0,h=!0);if(e||h)this.chart.series.forEach(function(a){var b=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0;if(h&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()}),e&&(this.projection=new d(this.options.projection)),h&&this.createInsets(),a.center||
B(a.zoom)||this.fitToBounds(void 0,void 0,!1);(a.center||B(a.zoom))&&this.setView(this.options.center,a.zoom,!1);b&&this.chart.redraw(c)};a.prototype.zoomBy=function(a,b,c,e){var f=this.chart,d=this.projection.forward(this.center);b=b?this.projection.forward(b):[];var h=b[0],g=b[1];"number"===typeof a?(a=this.zoom+a,b=void 0,c&&(h=c[0],g=c[1],c=this.getScale(),h=h-f.plotLeft-f.plotWidth/2,f=g-f.plotTop-f.plotHeight/2,h=d[0]+h/c,g=d[1]+f/c),"number"===typeof h&&"number"===typeof g&&(c=1-Math.pow(2,
this.zoom)/Math.pow(2,a),h=d[0]-h,f=d[1]-g,d[0]-=h*c,d[1]+=f*c,b=this.projection.inverse(d)),this.setView(b,a,void 0,e)):this.fitToBounds(void 0,void 0,void 0,e)};a.compositeBounds=function(a){if(a.length)return a.slice(1).reduce(function(a,b){a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);return a},f(a[0]))};return a}(),C=function(b){function e(c,e){var d=b.call(this,c.chart,e)||this;d.id=e.id;d.mapView=c;d.options=f(k,e);d.allBounds=[];d.options.geoBounds&&
(c=c.projection.path(d.options.geoBounds),d.geoBoundsProjectedBox=a(c),d.geoBoundsProjectedPolygon=c.map(function(a){return[a[1]||0,a[2]||0]}));return d}w(e,b);e.prototype.getField=function(a){void 0===a&&(a=!0);var c=this.hitZone;if(c){var e=a?this.padding:[0,0,0,0];c=c.coordinates[0];var f=c.map(function(a){return a[0]}),d=c.map(function(a){return a[1]});c=Math.min.apply(0,f)+e[3];f=Math.max.apply(0,f)-e[1];var h=Math.min.apply(0,d)+e[0];e=Math.max.apply(0,d)-e[2];if(B(c)&&B(h))return{x:c,y:h,width:f-
c,height:e-h}}return b.prototype.getField.call(this,a)};e.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,c=this.options,e=(c.field||{}).coordinates;if(e){e=e[0];if("percent"===c.units){var d="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||f(a.plotBox,{x:0,y:0});e=e.map(function(a){return[z(""+a[0]+"%",d.width,d.x),z(""+a[1]+"%",d.height,d.y)]})}return{type:"Polygon",coordinates:[e]}}};e.prototype.getProjectedBounds=function(){return H.compositeBounds(this.allBounds)};e.prototype.isInside=
function(a){var b=this.geoBoundsProjectedBox,e=this.geoBoundsProjectedPolygon;return!!(b&&a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&e&&c(a,e))};e.prototype.render=function(){var a=this.chart,b=this.mapView,c=this.options,e=c.borderPath||c.field;if(e&&b.group){var f=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),f=!1);a.styledMode||this.border.attr({stroke:c.borderColor,"stroke-width":c.borderWidth});var d=Math.round(this.border.strokeWidth())%
2/2,h="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||b.playingField;b=(e.coordinates||[]).reduce(function(b,e){return e.reduce(function(b,e,f){var g=e[0];e=e[1];"percent"===c.units&&(g=a.plotLeft+z(""+g+"%",h.width,h.x),e=a.plotTop+z(""+e+"%",h.height,h.y));g=Math.floor(g)+d;e=Math.floor(e)+d;b.push(0===f?["M",g,e]:["L",g,e]);return b},b)},[]);this.border[f?"animate":"attr"]({d:b})}};e.prototype.destroy=function(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(function(a){return a()})};
e.prototype.setUpEvents=function(){};return e}(H);e(g,"afterInit",function(){this.mapView=new H(this,this.options.mapView)});return H});x(b,"Series/Map/MapSeries.js",[b["Core/Animation/AnimationUtilities.js"],b["Series/ColorMapComposition.js"],b["Series/CenteredUtilities.js"],b["Core/Globals.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Chart/MapChart.js"],b["Series/Map/MapPoint.js"],b["Maps/MapView.js"],b["Core/Series/Series.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Renderer/SVG/SVGRenderer.js"],
b["Core/Utilities.js"]],function(b,k,p,g,q,d,l,w,n,h,y,a){var c=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function e(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),e=b.animObject;b=g.noop;var u=d.splitPath;d=h.seriesTypes;var t=d.column,m=d.scatter;
d=a.extend;var B=a.find,r=a.fireEvent,F=a.getNestedProperty,f=a.isArray,A=a.isNumber,z=a.isObject,G=a.merge,H=a.objectEach,C=a.pick,D=a.splat;a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.chart=void 0;b.data=void 0;b.group=void 0;b.joinBy=void 0;b.options=void 0;b.points=void 0;b.processedData=[];return b}c(b,a);b.prototype.animate=function(a){var b=this.chart,c=this.group,f=e(this.options.animation);b.renderer.isSVG&&(a?c.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+
b.plotHeight/2,scaleX:.001,scaleY:.001}):c.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},f))};b.prototype.animateDrilldown=function(a){var b=this.chart,c=this.group;b.renderer.isSVG&&(a?c.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(c.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))};
b.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})};b.prototype.animateDrillupTo=function(a){t.prototype.animateDrillupTo.call(this,a)};b.prototype.clearBounds=function(){this.points.forEach(function(a){delete a.bounds;delete a.insetIndex;delete a.projectedPath});delete this.bounds};b.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||
this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)};b.prototype.drawMapDataLabels=function(){n.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};b.prototype.drawPoints=function(){var a=this,b=this,c=this.chart,e=this.group,f=this.transformGroups,d=void 0===f?[]:f,h=c.mapView,g=c.renderer;h&&(this.transformGroups=d,d[0]||(d[0]=g.g().add(e)),h.insets.forEach(function(a,b){d[b+1]||d.push(g.g().add(e))}),this.doFullTranslate()&&
(this.points.forEach(function(b){var e=b.graphic,f=b.shapeArgs;b.group=d["number"===typeof b.insetIndex?b.insetIndex+1:0];e&&e.parentGroup!==b.group&&e.add(b.group);f&&c.hasRendered&&!c.styledMode&&(f.fill=a.pointAttribs(b,b.state).fill)}),t.prototype.drawPoints.apply(this),this.points.forEach(function(e){var f=e.graphic;if(f){var d=f.animate,h="";e.name&&(h+="highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase());e.properties&&e.properties["hc-key"]&&(h+=" highcharts-key-"+e.properties["hc-key"].toString().toLowerCase());
h&&f.addClass(h);c.styledMode&&f.css(a.pointAttribs(e,e.selected&&"select"||void 0));f.animate=function(a,e,h){var g=!1;if(a["stroke-width"]){var m=C(b.getStrokeWidth(b.options),1)/(c.mapView&&c.mapView.getScale()||1);"inherit"===f["stroke-width"]&&(f["stroke-width"]=m);"inherit"===a["stroke-width"]&&(a["stroke-width"]=m,g=!0)}return d.call(f,a,e,g?function(){f.attr({"stroke-width":"inherit"});h&&h.apply(this,arguments)}:h)}}})),d.forEach(function(b,e){var f=(0===e?h:h.insets[e-1]).getSVGTransform(),
d=C(a.getStrokeWidth(a.options),1),m=f.scaleX,l=0<f.scaleY?1:-1;if(g.globalAnimation&&c.hasRendered){var k=Number(b.attr("translateX")),r=Number(b.attr("translateY")),t=Number(b.attr("scaleX"));b.attr({animator:0}).animate({animator:1},{step:function(a,c){a=t+(m-t)*c.pos;b.attr({translateX:k+(f.translateX-k)*c.pos,translateY:r+(f.translateY-r)*c.pos,scaleX:a,scaleY:a*l});b.element.setAttribute("stroke-width",d/a)}})}else b.attr(f),b.element.setAttribute("stroke-width",d/m)}),this.drawMapDataLabels())};
b.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,c=a.projection,e=[];(this.points||[]).forEach(function(a){if(a.path||a.geometry){"string"===typeof a.path?a.path=u(a.path):f(a.path)&&"M"===a.path[0]&&(a.path=y.prototype.pathToSegments(a.path));if(!a.bounds){var d=a.getProjectedBounds(c);if(d){a.labelrank=C(a.labelrank,(d.x2-d.x1)*(d.y2-d.y1));var h=d.midX,g=d.midY;if(b&&A(h)&&A(g)){var m=B(b,function(a){return a.isInside({x:h,y:g})});
m&&(delete a.projectedPath,(d=a.getProjectedBounds(m.projection))&&m.allBounds.push(d),a.insetIndex=b.indexOf(m))}a.bounds=d}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}});this.bounds=w.compositeBounds(e)}return this.bounds};b.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]};b.prototype.hasData=function(){return!!this.processedXData.length};b.prototype.pointAttribs=function(a,b){var c=a.series.chart,e=c.mapView;c=c.styledMode?
this.colorAttribs(a):t.prototype.pointAttribs.call(this,a,b);var f=this.getStrokeWidth(a.options);b&&(b=G(this.options.states[b],a.options.states&&a.options.states[b]||{}),f=this.getStrokeWidth(b));f&&e&&(f/=e.getScale());b=this.getStrokeWidth(this.options);c.dashstyle&&e&&A(b)&&(f=b/e.getScale());a.visible||(c.fill=this.options.nullColor);c["stroke-width"]=C(f,"inherit");return c};b.prototype.updateData=function(){return this.processedData?!1:a.prototype.updateData.apply(this,arguments)};b.prototype.setData=
function(b,c,e,f){void 0===c&&(c=!0);delete this.bounds;a.prototype.setData.call(this,b,!1,void 0,f);this.processData();this.generatePoints();c&&this.chart.redraw(e)};b.prototype.processData=function(){var a=this.options,b=a.data,c=this.chart.options.chart,e=this.joinBy,d=a.keys||this.pointArrayMap,h=[],m={},k=this.chart.mapView;k=k&&(z(a.mapData,!0)?k.getGeoMap(a.mapData):k.geoMap);var r=this.chart.mapTransforms;(this.chart.mapTransforms=r=c.mapTransforms||k&&k["hc-transform"]||r)&&H(r,function(a){a.rotation&&
(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(f(a.mapData))var t=a.mapData;else k&&"FeatureCollection"===k.type&&(this.mapTitle=k.title,t=g.geojson(k,this.type,this));var u=this.processedData=[];b&&b.forEach(function(c,h){var g=0;if(A(c))u[h]={value:c};else if(f(c)){u[h]={};!a.keys&&c.length>d.length&&"string"===typeof c[0]&&(u[h]["hc-key"]=c[0],++g);for(var m=0;m<d.length;++m,++g)d[m]&&"undefined"!==typeof c[g]&&(0<d[m].indexOf(".")?l.prototype.setNestedProperty(u[h],c[g],
d[m]):u[h][d[m]]=c[g])}else u[h]=b[h];e&&"_i"===e[0]&&(u[h]._i=h)});if(t){this.mapData=t;this.mapMap={};for(r=0;r<t.length;r++)c=t[r],k=c.properties,c._i=r,e[0]&&k&&k[e[0]]&&(c[e[0]]=k[e[0]]),m[c[e[0]]]=c;this.mapMap=m;if(e[1]){var n=e[1];u.forEach(function(a){a=F(n,a);m[a]&&h.push(m[a])})}if(a.allAreas){if(e[1]){var q=e[1];u.forEach(function(a){h.push(F(q,a))})}var p="|"+h.map(function(a){return a&&a[e[0]]}).join("|")+"|";t.forEach(function(a){e[0]&&-1!==p.indexOf("|"+a[e[0]]+"|")||u.push(G(a,{value:null}))})}}this.processedXData=
Array(u.length)};b.prototype.setOptions=function(a){a=n.prototype.setOptions.call(this,a);var b=a.joinBy;null===b&&(b="_i");b=this.joinBy=D(b);b[1]||(b[1]=b[0]);return a};b.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,c=b&&b.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||A(b.userOptions.zoom)?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1));
if(b){var e=b.getSVGTransform();this.points.forEach(function(f){var d=A(f.insetIndex)&&b.insets[f.insetIndex].getSVGTransform()||e;d&&f.bounds&&A(f.bounds.midX)&&A(f.bounds.midY)&&(f.plotX=f.bounds.midX*d.scaleX+d.translateX,f.plotY=f.bounds.midY*d.scaleY+d.translateY);a&&(f.shapeType="path",f.shapeArgs={d:l.getProjectedPath(f,c)})})}r(this,"afterTranslate")};b.defaultOptions=G(m.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,
b=this.point.value;return A(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"}}});return b}(m);d(a.prototype,{type:"map",axisTypes:k.seriesMembers.axisTypes,colorAttribs:k.seriesMembers.colorAttribs,
colorKey:k.seriesMembers.colorKey,directTouch:!0,drawDataLabels:b,drawGraph:b,drawLegendSymbol:q.drawRectangle,forceDL:!0,getCenter:p.getCenter,getExtremesFromAll:!0,getSymbol:b,isCartesian:!1,parallelArrays:k.seriesMembers.parallelArrays,pointArrayMap:k.seriesMembers.pointArrayMap,pointClass:l,preserveAspectRatio:!0,searchPoint:b,trackerGroups:k.seriesMembers.trackerGroups,useMapGeometry:!0});k.compose(a);h.registerSeriesType("map",a);"";return a});x(b,"Series/MapLine/MapLineSeries.js",[b["Series/Map/MapSeries.js"],
b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var g=this&&this.__extends||function(){var b=function(d,h){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(d,h)};return function(d,h){function g(){this.constructor=d}b(d,h);d.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)}}(),q=k.series,d=p.extend,l=p.merge;p=function(d){function k(){var b=null!==
d&&d.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;return b}g(k,d);k.prototype.pointAttribs=function(d,g){d=b.prototype.pointAttribs.call(this,d,g);d.fill=this.options.fillColor;return d};k.defaultOptions=l(b.defaultOptions,{lineWidth:1,fillColor:"none"});return k}(b);d(p.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:q.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});k.registerSeriesType("mapline",p);"";return p});
x(b,"Series/MapPoint/MapPointPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k){var p=this&&this.__extends||function(){var b=function(d,g){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var h in d)d.hasOwnProperty(h)&&(b[h]=d[h])};return b(d,g)};return function(d,g){function k(){this.constructor=d}b(d,g);d.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}}(),g=k.isNumber;return function(b){function d(){var d=
null!==b&&b.apply(this,arguments)||this;d.options=void 0;d.series=void 0;return d}p(d,b);d.prototype.isValid=function(){return!!(this.options.geometry||g(this.x)&&g(this.y)||g(this.options.lon)&&g(this.options.lat))};return d}(b.seriesTypes.scatter.prototype.pointClass)});x(b,"Series/MapPoint/MapPointSeries.js",[b["Core/Globals.js"],b["Series/MapPoint/MapPointPoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p,g){var q=this&&this.__extends||function(){var a=function(b,
e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,e)};return function(b,e){function c(){this.constructor=b}a(b,e);b.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}();b=b.noop;var d=p.seriesTypes,l=d.map,w=d.scatter;d=g.extend;var n=g.fireEvent,h=g.isNumber,y=g.merge;g=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.chart=void 0;b.data=void 0;
b.options=void 0;b.points=void 0;b.clearBounds=l.prototype.clearBounds;return b}q(b,a);b.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};b.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var c=a.geometry,e=a.lon;a=a.lat;c=c&&"Point"===c.type&&c.coordinates;h(e)&&h(a)&&(c=[e,a]);if(c)return b.lonLatToProjectedUnits({lon:c[0],lat:c[1]})}};b.prototype.translate=function(){var a=this,b=this.chart.mapView;
this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds());if(b){var c=b.getSVGTransform(),d=b.projection.hasCoordinates;this.points.forEach(function(e){var g=e.x;g=void 0===g?void 0:g;var m=e.y;m=void 0===m?void 0:m;var f=h(e.insetIndex)&&b.insets[e.insetIndex].getSVGTransform()||c,k=a.projectPoint(e.options)||e.properties&&a.projectPoint(e.properties);if(k)g=k.x,m=k.y;else if(e.bounds&&(g=e.bounds.midX,
m=e.bounds.midY,f&&h(g)&&h(m))){e.plotX=g*f.scaleX+f.translateX;e.plotY=m*f.scaleY+f.translateY;var l=!0}h(g)&&h(m)?l||(l=b.projectedUnitsToPixels({x:g,y:m}),e.plotX=l.x,e.plotY=d?l.y:a.chart.plotHeight-l.y):e.y=e.plotX=e.plotY=void 0;e.isInside=a.isPointInside(e);e.zone=a.zones.length?e.getZone():void 0})}n(this,"afterTranslate")};b.defaultOptions=y(w.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}});return b}(w);
d(g.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:k,searchPoint:b,useMapGeometry:!0});p.registerSeriesType("mappoint",g);"";return g});x(b,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",
color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});x(b,"Series/Bubble/BubbleLegendItem.js",[b["Core/Color/Color.js"],b["Core/FormatUtilities.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k,p,g){var q=b.parse,d=p.noop,l=g.arrayMax,w=g.arrayMin,n=g.isNumber,h=g.merge,y=g.pick,a=g.stableSort;b=function(){function b(a,b){this.options=this.symbols=
this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.fontMetrics=this.chart=void 0;this.setState=d;this.init(a,b)}b.prototype.init=function(a,b){this.options=a;this.visible=!0;this.chart=b.chart;this.legend=b};b.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)};b.prototype.drawLegendSymbol=function(b){var c=this.chart,e=y(b.options.itemDistance,20),d=this.legendItem||{},h=this.options,g=h.ranges,k=h.connectorDistance;this.fontMetrics=c.renderer.fontMetrics(h.labels.style.fontSize);
g&&g.length&&n(g[0].value)?(a(g,function(a,b){return b.value-a.value}),this.ranges=g,this.setOptions(),this.render(),b=this.getMaxLabelSize(),g=this.ranges[0].radius,c=2*g,k=k-g+b.width,k=0<k?k:0,this.maxLabel=b,this.movementX="left"===h.labels.align?k:0,d.labelWidth=c+k+e,d.labelHeight=c+this.fontMetrics.h/2):b.options.bubbleLegend.autoRanges=!0};b.prototype.setOptions=function(){var a=this.ranges,b=this.options,c=this.chart.series[b.seriesIndex],d=this.legend.baseline,g={zIndex:b.zIndex,"stroke-width":b.borderWidth},
k={zIndex:b.zIndex,"stroke-width":b.connectorWidth},l={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},f=c.options.marker.fillOpacity,n=this.chart.styledMode;a.forEach(function(e,m){n||(g.stroke=y(e.borderColor,b.borderColor,c.color),g.fill=y(e.color,b.color,1!==f?q(c.color).setOpacity(f).get("rgba"):c.color),k.stroke=y(e.connectorColor,b.connectorColor,c.color));a[m].radius=this.getRangeRadius(e.value);a[m]=h(a[m],{center:a[0].radius-a[m].radius+d});n||h(!0,
a[m],{bubbleAttribs:h(g),connectorAttribs:h(k),labelAttribs:l})},this)};b.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)};b.prototype.render=function(){var a=this.legendItem||{},b=this.chart.renderer,c=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});a.symbol=b.g("bubble-legend");a.label=b.g("bubble-legend-item");
a.symbol.translateX=0;b=a.symbol.translateY=0;for(var d=this.ranges;b<d.length;b++){var h=d[b];h.value>=c&&this.renderRange(h)}a.symbol.add(a.label);a.label.add(a.group);this.hideOverlappingLabels()};b.prototype.renderRange=function(a){var b=this.options,c=b.labels,e=this.chart,d=e.series[b.seriesIndex],h=e.renderer,g=this.symbols;e=g.labels;var f=a.center,k=Math.abs(a.radius),l=b.connectorDistance||0,n=c.align,q=b.connectorWidth,p=this.ranges[0].radius||0,D=f-k-b.borderWidth/2+q/2,v=this.fontMetrics;
v=v.f/2-(v.h-v.f)/2;var y=h.styledMode;l=this.legend.options.rtl||"left"===n?-l:l;"center"===n&&(l=0,b.connectorDistance=0,a.labelAttribs.align="center");n=D+b.labels.y;var w=p+l+b.labels.x;g.bubbleItems.push(h.circle(p,f+((D%1?1:.5)-(q%2?0:.5)),k).attr(y?{}:a.bubbleAttribs).addClass((y?"highcharts-color-"+d.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendItem.symbol));g.connectors.push(h.path(h.crispLine([["M",p,D],["L",p+l,D]],b.connectorWidth)).attr(y?{}:
a.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendItem.symbol));a=h.text(this.formatLabel(a),w,n+v).attr(y?{}:a.labelAttribs).css(y?{}:c.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendItem.symbol);e.push(a);a.placed=!0;a.alignAttr={x:w,y:n+v}};b.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(c){b=c.getBBox(!0);
a=a?b.width>a.width?b:a:b});return a||{}};b.prototype.formatLabel=function(a){var b=this.options,c=b.labels.formatter;b=b.labels.format;var e=this.chart.numberFormatter;return b?k.format(b,a):c?c.call(a):e(a.value,1)};b.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach(function(a,c){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[c].show():b.connectors[c].hide()}))};b.prototype.getRanges=
function(){var a=this.legend.bubbleLegend,b=a.options.ranges,c,d=Number.MAX_VALUE,g=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(c=a.zData.filter(n),c.length&&(d=y(a.options.zMin,Math.min(d,Math.max(w(c),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),g=y(a.options.zMax,Math.max(g,l(c)))))});var k=d===g?[{value:g}]:[{value:d},{value:(d+g)/2},{value:g,autoRanges:!0}];b.length&&b[0].radius&&k.reverse();k.forEach(function(a,c){b&&b[c]&&(k[c]=
h(b[c],a))});return k};b.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,c=a.legend.options,d=c.floating,h=(c="horizontal"===c.layout)?a.legend.lastLineHeight:0,g=a.plotSizeX,k=a.plotSizeY,f=a.series[this.options.seriesIndex],l=f.getPxExtremes();a=Math.ceil(l.minPxSize);l=Math.ceil(l.maxPxSize);var n=Math.min(k,g);f=f.options.maxSize;if(d||!/%$/.test(f))b=l;else if(f=parseFloat(f),b=(n+h-b.h/2)*f/100/(f/100+1),c&&k-b>=g||!c&&g-b>=k)b=l;return[a,Math.ceil(b)]};b.prototype.updateRanges=
function(a,b){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=b;c.ranges=this.getRanges()};b.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return b}();"";return b});x(b,"Series/Bubble/BubbleLegendComposition.js",[b["Series/Bubble/BubbleLegendDefaults.js"],b["Series/Bubble/BubbleLegendItem.js"],b["Core/Defaults.js"],
b["Core/Utilities.js"]],function(b,k,p,g){function q(a,b,e){var g=this.legend,k=0<=d(this),f;if(g&&g.options.enabled&&g.bubbleLegend&&g.options.bubbleLegend.autoRanges&&k){var m=g.bubbleLegend.options;k=g.bubbleLegend.predictBubbleSizes();g.bubbleLegend.updateRanges(k[0],k[1]);m.placed||(g.group.placed=!1,g.allItems.forEach(function(a){f=a.legendItem||{};f.group&&(f.group.translateY=null)}));g.render();this.getMargins();this.axes.forEach(function(a){a.visible&&a.render();m.placed||(a.setScale(),a.updateNames(),
c(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});m.placed=!0;this.getMargins();a.call(this,b,e);g.bubbleLegend.correctSizes();h(g,l(g))}else a.call(this,b,e),g&&g.options.enabled&&g.bubbleLegend&&(g.render(),h(g,l(g)))}function d(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function l(a){a=a.allItems;var b=[],c=a.length,d,e=0;for(d=0;d<c;d++){var f=a[d].legendItem||{};var h=(a[d+1]||{}).legendItem||{};f.labelHeight&&(a[d].itemHeight=
f.labelHeight);if(a[d]===a[c-1]||f.y!==h.y){b.push({height:0});f=b[b.length-1];for(e;e<=d;e++)a[e].itemHeight>f.height&&(f.height=a[e].itemHeight);f.step=d}}return b}function w(a){var b=this.bubbleLegend,c=this.options,e=c.bubbleLegend,h=d(this.chart);b&&b.ranges&&b.ranges.length&&(e.ranges.length&&(e.autoRanges=!!e.ranges[0].autoRanges),this.destroyItem(b));0<=h&&c.enabled&&e.enabled&&(e.seriesIndex=h,this.bubbleLegend=new k(e,this),this.bubbleLegend.addToLegend(a.allItems))}function n(){var a=this.chart,
b=this.visible,c=this.chart.legend;c&&c.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=d(a),c.bubbleLegend.visible!==a&&(c.update({bubbleLegend:{enabled:a}}),c.bubbleLegend.visible=a),this.visible=b)}function h(a,b){var c=a.options.rtl,d,e,f,h,g=0;a.allItems.forEach(function(a,k){h=a.legendItem||{};if(h.group){d=h.group.translateX||0;e=h.y||0;if((f=a.movementX)||c&&a.ranges)f=c?d-a.options.maxSize/2:d+f,h.group.attr({translateX:f});k>b[g].step&&g++;h.group.attr({translateY:Math.round(e+b[g].height/
2)});h.y=e+b[g].height/2}})}var y=p.setOptions,a=g.addEvent,c=g.objectEach,e=g.wrap,u=[];return{compose:function(c,d,h){-1===u.indexOf(c)&&(u.push(c),y({legend:{bubbleLegend:b}}),e(c.prototype,"drawChartBox",q));-1===u.indexOf(d)&&(u.push(d),a(d,"afterGetAllItems",w));-1===u.indexOf(h)&&(u.push(h),a(h,"legendItemClick",n))}}});x(b,"Series/Bubble/BubblePoint.js",[b["Core/Series/Point.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var g=this&&this.__extends||function(){var b=
function(d,g){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var h in d)d.hasOwnProperty(h)&&(b[h]=d[h])};return b(d,g)};return function(d,g){function k(){this.constructor=d}b(d,g);d.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}}();p=p.extend;k=function(k){function d(){var b=null!==k&&k.apply(this,arguments)||this;b.options=void 0;b.series=void 0;return b}g(d,k);d.prototype.haloPath=function(d){return b.prototype.haloPath.call(this,
0===d?0:(this.marker?this.marker.radius||0:0)+d)};return d}(k.seriesTypes.scatter.prototype.pointClass);p(k.prototype,{ttBelow:!1});return k});x(b,"Series/Bubble/BubbleSeries.js",[b["Series/Bubble/BubbleLegendComposition.js"],b["Series/Bubble/BubblePoint.js"],b["Core/Color/Color.js"],b["Core/Globals.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p,g,q,d){function l(){var a=this,b=this.len,c=this.chart,d=this.isXAxis,e=d?"xData":"yData",h=this.min,g=this.max-h,k=0,l=b,
n=b/g,q;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!c.options.chart.ignoreHiddenSeries)){q=a.allowZoomOutside=!0;var f=b[e];d&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii));if(0<g)for(var p=f.length;p--;)if(m(f[p])&&a.dataMin<=f[p]&&f[p]<=a.max){var r=b.radii&&b.radii[p]||0;k=Math.min((f[p]-h)*n-r,k);l=Math.max((f[p]-h)*n+r,l)}}});q&&0<g&&!this.logarithmic&&(l-=b,n*=(b+Math.max(0,k)-Math.min(l,b))/b,[["min","userMin",k],["max","userMax",l]].forEach(function(b){"undefined"===
typeof r(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/n)}))}var w=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),n=p.parse;p=g.noop;var h=q.series,y=q.seriesTypes;g=y.column.prototype;var a=y.scatter;
y=d.addEvent;var c=d.arrayMax,e=d.arrayMin,u=d.clamp,t=d.extend,m=d.isNumber,x=d.merge,r=d.pick,F=[];d=function(d){function f(){var a=null!==d&&d.apply(this,arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=void 0;a.zData=void 0;return a}w(f,d);f.compose=function(a,c,d,e){b.compose(c,d,e);-1===F.indexOf(a)&&(F.push(a),a.prototype.beforePadding=l)};f.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&
this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)};f.prototype.getRadii=function(){var a=this,b=this.zData,c=this.yData,d=[],e=this.chart.bubbleZExtremes;var f=this.getPxExtremes();var h=f.minPxSize,g=f.maxPxSize;if(!e){var k=Number.MAX_VALUE,l=-Number.MAX_VALUE,m;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&
(b=(b.onPoint||b).getZExtremes())&&(k=Math.min(k||b.zMin,b.zMin),l=Math.max(l||b.zMax,b.zMax),m=!0)});m?(e={zMin:k,zMax:l},this.chart.bubbleZExtremes=e):e={zMin:0,zMax:0}}var n=0;for(f=b.length;n<f;n++){var p=b[n];d.push(this.getRadius(e.zMin,e.zMax,h,g,p,c&&c[n]))}this.radii=d};f.prototype.getRadius=function(a,b,c,d,e,f){var h=this.options,g="width"!==h.sizeBy,k=h.zThreshold,l=b-a,n=.5;if(null===f||null===e)return null;if(m(e)){h.sizeByAbsoluteValue&&(e=Math.abs(e-k),l=Math.max(b-k,Math.abs(a-k)),
a=0);if(e<a)return c/2-1;0<l&&(n=(e-a)/l)}g&&0<=n&&(n=Math.sqrt(n));return Math.ceil(c+n*(d-c))/2};f.prototype.hasData=function(){return!!this.processedXData.length};f.prototype.pointAttribs=function(a,b){var c=this.options.marker.fillOpacity;a=h.prototype.pointAttribs.call(this,a,b);1!==c&&(a.fill=n(a.fill).setOpacity(c).get("rgba"));return a};f.prototype.translate=function(){d.prototype.translate.call(this);this.getRadii();this.translateBubble()};f.prototype.translateBubble=function(){for(var a=
this.data,b=this.radii,c=this.getPxExtremes().minPxSize,d=a.length;d--;){var e=a[d],f=b?b[d]:0;m(f)&&f>=c/2?(e.marker=t(e.marker,{radius:f,width:2*f,height:2*f}),e.dlBox={x:e.plotX-f,y:e.plotY-f,width:2*f,height:2*f}):(e.shapeArgs=e.dlBox=void 0,e.plotY=0,e.marker={width:0,height:0})}};f.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"===typeof b){var c=/%$/.test(b);b=parseInt(b,10)}return c?a*b/100:b},c=b(r(this.options.minSize,
8));b=Math.max(b(r(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}};f.prototype.getZExtremes=function(){var a=this.options,b=(this.zData||[]).filter(m);if(b.length){var d=r(a.zMin,u(e(b),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));a=r(a.zMax,c(b));if(m(d)&&m(a))return{zMin:d,zMax:a}}};f.defaultOptions=x(a.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return m(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},
animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return f}(a);t(d.prototype,{alignDataLabel:g.alignDataLabel,applyZones:p,bubblePadding:!0,buildKDTree:p,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:k,parallelArrays:["x","y",
"z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});y(d,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});y(d,"remove",function(a){delete a.target.chart.bubbleZExtremes});q.registerSeriesType("bubble",d);"";"";return d});x(b,"Series/MapBubble/MapBubblePoint.js",[b["Series/Bubble/BubblePoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p){var g=this&&this.__extends||function(){var b=function(d,g){b=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var h in d)d.hasOwnProperty(h)&&(b[h]=d[h])};return b(d,g)};return function(d,g){function k(){this.constructor=d}b(d,g);d.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}}();k=k.seriesTypes.map.prototype.pointClass.prototype;p=p.extend;b=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}g(d,b);d.prototype.isValid=function(){return"number"===typeof this.z};return d}(b);p(b.prototype,
{applyOptions:k.applyOptions,getProjectedBounds:k.getProjectedBounds});return b});x(b,"Series/MapBubble/MapBubbleSeries.js",[b["Series/Bubble/BubbleSeries.js"],b["Series/MapBubble/MapBubblePoint.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,p,g){var q=this&&this.__extends||function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(d,a)};
return function(d,a){function c(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),d=p.seriesTypes,l=d.map.prototype,w=d.mappoint.prototype;d=g.extend;var n=g.merge;g=function(d){function h(){var a=null!==d&&d.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;a.clearBounds=l.clearBounds;return a}q(h,d);h.prototype.searchPoint=function(a,b){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},
b,a)};h.prototype.translate=function(){w.translate.call(this);this.getRadii();this.translateBubble()};h.defaultOptions=n(b.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});return h}(b);d(g.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:l.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:k,processData:l.processData,projectPoint:w.projectPoint,setData:l.setData,setOptions:l.setOptions,updateData:l.updateData,
useMapGeometry:!0,xyFromShape:!0});p.registerSeriesType("mapbubble",g);"";return g});x(b,"Series/Heatmap/HeatmapPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k){var p=this&&this.__extends||function(){var b=function(d,h){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(d,h)};return function(d,h){function g(){this.constructor=d}b(d,h);d.prototype=null===h?
Object.create(h):(g.prototype=h.prototype,new g)}}(),g=k.clamp,q=k.defined,d=k.extend,l=k.pick;b=function(b){function d(){var d=null!==b&&b.apply(this,arguments)||this;d.options=void 0;d.series=void 0;d.value=void 0;d.x=void 0;d.y=void 0;return d}p(d,b);d.prototype.applyOptions=function(d,g){d=b.prototype.applyOptions.call(this,d,g);d.formatPrefix=d.isNull||null===d.value?"null":"point";return d};d.prototype.getCellAttributes=function(){var b=this.series,d=b.options,a=(d.colsize||1)/2,c=(d.rowsize||
1)/2,e=b.xAxis,k=b.yAxis,p=this.options.marker||b.options.marker;b=b.pointPlacementToXValue();var m=l(this.pointPadding,d.pointPadding,0),n={x1:g(Math.round(e.len-e.translate(this.x-a,!1,!0,!1,!0,-b)),-e.len,2*e.len),x2:g(Math.round(e.len-e.translate(this.x+a,!1,!0,!1,!0,-b)),-e.len,2*e.len),y1:g(Math.round(k.translate(this.y-c,!1,!0,!1,!0)),-k.len,2*k.len),y2:g(Math.round(k.translate(this.y+c,!1,!0,!1,!0)),-k.len,2*k.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=
a+"1",d=a+"2",e=Math.abs(n[c]-n[d]),h=p&&p.lineWidth||0,g=Math.abs(n[c]+n[d])/2;b=p&&p[b];q(b)&&b<e&&(b=b/2+h/2,n[c]=g-b,n[d]=g+b);m&&("y"===a&&(c=d,d=a+"1"),n[c]+=m,n[d]-=m)});return n};d.prototype.haloPath=function(b){if(!b)return[];var d=this.shapeArgs;return["M",d.x-b,d.y-b,"L",d.x-b,d.y+d.height+b,d.x+d.width+b,d.y+d.height+b,d.x+d.width+b,d.y-b,"Z"]};d.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return d}(b.seriesTypes.scatter.prototype.pointClass);d(b.prototype,
{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return b});x(b,"Series/Heatmap/HeatmapSeries.js",[b["Core/Color/Color.js"],b["Series/ColorMapComposition.js"],b["Series/Heatmap/HeatmapPoint.js"],b["Core/Legend/LegendSymbol.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(b,k,p,g,q,d,l){var w=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),n=q.series,h=q.seriesTypes,x=h.column,a=h.scatter,c=d.prototype.symbols,e=l.extend,u=l.fireEvent,t=l.isNumber,m=l.merge,B=l.pick;d=function(d){function g(){var a=null!==d&&d.apply(this,arguments)||this;a.colorAxis=void 0;a.data=void 0;a.options=void 0;a.points=void 0;a.valueMax=NaN;a.valueMin=NaN;return a}
w(g,d);g.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)n.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})};g.prototype.getExtremes=function(){var a=n.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;t(b)&&(this.valueMin=b);t(a)&&(this.valueMax=a);return n.prototype.getExtremes.call(this)};
g.prototype.getValidPoints=function(a,b){return n.prototype.getValidPoints.call(this,a,b,!0)};g.prototype.hasData=function(){return!!this.processedXData.length};g.prototype.init=function(){n.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=B(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;c.ellipse=c.circle;a.marker&&(a.marker.r=a.borderRadius)};g.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},e=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,
y:a.plotY};if(b){var g=d.states[b]||{};var h=c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){f[a[0]]=(h[a[0]]||g[a[0]]||e[a[0]])+(h[a[0]+"Plus"]||g[a[0]+"Plus"]||0);f[a[1]]=e[a[1]]+(e[a[0]]-f[a[0]])/2})}return b?f:e};g.prototype.pointAttribs=function(a,c){var d=n.prototype.pointAttribs.call(this,a,c),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=a&&a.options.borderColor||e.borderColor||h.borderColor||g.borderColor;g=a&&a.options.borderWidth||
e.borderWidth||h.borderWidth||g.borderWidth||d["stroke-width"];d.stroke=a&&a.marker&&a.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;d["stroke-width"]=g;c&&(a=m(e.states[c],e.marker&&e.marker.states[c],a&&a.options.states&&a.options.states[c]||{}),c=a.brightness,d.fill=a.color||b.parse(d.fill).brighten(c||0).get(),d.stroke=a.lineColor);return d};g.prototype.setClip=function(a){var b=this.chart;n.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||
this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)};g.prototype.translate=function(){var a=this.options,b=a.marker&&a.marker.symbol||"rect",d=c[b]?b:"rect",g=-1!==["circle","square"].indexOf(d);this.generatePoints();this.points.forEach(function(f){var h=f.getCellAttributes(),k={};k.x=Math.min(h.x1,h.x2);k.y=Math.min(h.y1,h.y2);k.width=Math.max(Math.abs(h.x2-h.x1),0);k.height=Math.max(Math.abs(h.y2-h.y1),0);var l=f.hasImage=0===(f.marker&&f.marker.symbol||b||"").indexOf("url");
if(g){var n=Math.abs(k.width-k.height);k.x=Math.min(h.x1,h.x2)+(k.width<k.height?0:n/2);k.y=Math.min(h.y1,h.y2)+(k.width<k.height?n/2:0);k.width=k.height=Math.min(k.width,k.height)}n={plotX:(h.x1+h.x2)/2,plotY:(h.y1+h.y2)/2,clientX:(h.x1+h.x2)/2,shapeType:"path",shapeArgs:m(!0,k,{d:c[d](k.x,k.y,k.width,k.height,{r:a.borderRadius})})};l&&(f.marker={width:k.width,height:k.height});e(f,n)});u(this,"afterTranslate")};g.defaultOptions=m(a.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",
dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return t(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}});return g}(a);e(d.prototype,{axisTypes:k.seriesMembers.axisTypes,colorKey:k.seriesMembers.colorKey,directTouch:!0,
getExtremesFromAll:!0,parallelArrays:k.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:p,trackerGroups:k.seriesMembers.trackerGroups,alignDataLabel:x.prototype.alignDataLabel,colorAttribs:k.seriesMembers.colorAttribs,drawLegendSymbol:g.drawRectangle,getSymbol:n.prototype.getSymbol});k.compose(d);q.registerSeriesType("heatmap",d);"";"";return d});x(b,"masters/modules/map.src.js",[b["Core/Globals.js"],b["Core/Axis/Color/ColorAxis.js"],b["Series/MapBubble/MapBubbleSeries.js"],b["Core/Chart/MapChart.js"],
b["Maps/MapView.js"],b["Maps/Projection.js"]],function(b,k,p,g,q,d){b.ColorAxis=k;b.MapChart=g;b.mapChart=b.Map=g.mapChart;b.MapView=q;b.maps=g.maps;b.Projection=d;k.compose(b.Chart,b.Fx,b.Legend,b.Series);p.compose(b.Axis,b.Chart,b.Legend,b.Series)})});
//# sourceMappingURL=map.js.map